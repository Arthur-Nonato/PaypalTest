<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>PayPal Test</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="/css/styles.css" />
    <script src="https://www.paypal.com/sdk/js?client-id=Af5zVuG_z4K8CQJsatf4yRiy9lnqgE6NiB1gwTmYPkAwfwtywh77tIsoiSRD_ji0tKunncqrZoReF_sA"></script>
  </head>
  <body>
    <header class="container-fluid">
      <div class="col-12">
        <div class="container text-center text-white">
          <h2><i>PayPal Test</i></h2>
        </div>
      </div>
    </header>
    <div class="container text-center">
      <div id="product-row" class="row justify-content-center">
        <div class="col-4">
          <div class="card mt-3 mb-3 p-3">
            <div class="row g-0">
              <div class="col-6">
                <img
                  src="/img/product_img_1.jpg"
                  class="img-fluid rounded-start p-2"
                  alt="Image of the product"
                />
              </div>
              <div class="col-6">
                <div class="card-body">
                  <h4 class="card-title">Red Bull</h4>
                  <p class="card-text">Bebida energética</p>
                </div>
              </div>
              <div class="card-footer bg-transparent pb-0">
                <div class="d-grid gap-2">
                  <button
                    type="button"
                    class="btn btn-primary"
                    onClick="changeCart('0','add')"
                  >
                    Add to cart
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-4">
          <div class="card mt-3 mb-3 p-3">
            <div class="row g-0">
              <div class="col-6">
                <img
                  src="/img/product_img_2.jpg"
                  class="img-fluid rounded-start p-2"
                  alt="Image of the product"
                />
              </div>
              <div class="col-6">
                <div class="card-body">
                  <h4 class="card-title">Coca Cola</h4>
                  <p class="card-text">Refrigerante Sabor único</p>
                </div>
              </div>
              <div class="card-footer bg-transparent pb-0">
                <div class="d-grid gap-2">
                  <button
                    type="button"
                    class="btn btn-primary mb-0"
                    onClick="changeCart('1','add')"
                  >
                    Add to cart
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-4">
          <div class="card mt-3 mb-3 p-3">
            <div class="row g-0">
              <div class="col-6">
                <img
                  src="/img/product_img_3.jpg"
                  class="img-fluid rounded-start p-2"
                  alt="Image of the product"
                />
              </div>
              <div class="col-6">
                <div class="card-body">
                  <h4 class="card-title">Sprite</h4>
                  <p class="card-text">Refrigerante sabor limão</p>
                </div>
              </div>
              <div class="card-footer bg-transparent pb-0">
                <div class="d-grid gap-2">
                  <button
                    type="button"
                    class="btn btn-primary mb-0"
                    onClick="changeCart('2','add')"
                  >
                    Add to cart
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- <div class="col-6">TODO: Client's info form</div> -->
      </div>
    </div>
    <div class="container text-center">
      <div class="row justify-content-center">
        <div class="col-4">
          <div id="paypal-btn-container"></div>
          <script>
            paypal
              .Buttons({
                createOrder() {
                  return fetch("/create-order", {
                    method: "POST",
                    headers: {
                      "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                      cart: [
                        {
                          //TODO
                        },
                      ],
                    }),
                  })
                    .then((response) => response.json())
                    .then((order) => order.id);
                },
              })
              .render("#paypal-btn-container");
          </script>
        </div>
      </div>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
      crossorigin="anonymous"
    ></script>
    <script src="/scripts/index.js"></script>
  </body>
</html>
